@using Client.Features.Shared.Components
@inject ShowdownJsInterop Showdown

<div class="container-fluid overflow-x-scroll">
    @if (_html is null)
    {
        <PlaceholderText />
    }
    else
    {
        @_html.Value
    }
</div>

@code {
    
    [Parameter, EditorRequired]
    public string Markdown { get; set; } = null!;

    private MarkupString? _html;

    protected override void OnParametersSet()
    {
        _html = null;
        _ = Task.Run(async () =>
        {
            _html = await Showdown.RenderMd(Markdown);
            await InvokeAsync(StateHasChanged);
        });
    }

}